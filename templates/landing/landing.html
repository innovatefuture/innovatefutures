{% extends "base.html" %}
{% load static %}
{% load area_details %}

{% block body_class %}template-homepage{% endblock %}

{% block extra_css %}
    <style>
        /* Custom modern UI styling */
        .cta-button {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            color: #ffffff;
            background-color: #3b82f6; /* Blue */
            text-decoration: none;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: transform 0.2s, background-color 0.3s;
        }

        .cta-button:hover {
            background-color: #2563eb; /* Darker blue */
            transform: translateY(-3px);
        }

        .section-title {
            font-size: 2.25rem;
            font-weight: 700;
            text-align: center;
            margin-bottom: 1.5rem;
            color: #1e293b; /* Slate */
        }

        .welcome-text {
            font-size: 1.5rem;
            margin: 1.5rem 0;
            text-align: center;
            color: #0f172a; /* Dark slate */
        }

        .video-container {
            border-radius: 12px;
            overflow: hidden;
            position: relative;
            margin-bottom: 2rem;
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }

        .button-group {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin-top: 1rem;
        }

        .grid-container {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
            margin-top: 2rem;
        }

        @media (min-width: 768px) {
            .grid-container {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        .form-container {
            background-color: #f9fafb; /* Light gray */
            padding: 2rem;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }
    </style>
{% endblock extra_css %}

{% block content %}
    {% get_areas as areas_dict %}
    {% url 'account_signup' as signup_url %}
    {% url 'account_login' as login_url %}
    {% block title %}{% include "partials/title.html" with title="Shared Futures" %}{% endblock %}

    <div class="container mx-auto px-4 sm:px-6 lg:px-8">
        {% if show_wizard %}
            <div class="text-center border border-yellow-500 bg-yellow-50 p-4 mx-auto rounded-md max-w-md shadow-sm">
                <p class="text-yellow-700 font-medium">
                    There are currently no post codes. Click
                    <a href="{% url 'wizard' %}" class="underline text-blue-600 hover:text-blue-800">here</a>
                    to configure your Shared Futures Space.
                </p>
            </div>
        {% endif %}

        {% include "partials/vertical-spacer.html" with space="6" %}

        <h1 class="welcome-text">
            Welcome to a project management platform where your community collaborates and gets stuff done!
        </h1>

        {% include "partials/vertical-spacer.html" with space="9" %}

        <div class="video-container">
            <video class="w-full h-auto object-cover" autoplay muted loop>
                <source src="{% static 'images/landing/shared_futures_waters.mp4' %}" type="video/mp4">
                Your browser does not support the video tag.
            </video>
            <div class="absolute inset-0 flex items-center justify-center">
                <div class="button-group">
                    <a href="{{ signup_url }}" class="cta-button">Sign up</a>
                    <a href="{{ login_url }}" class="cta-button">Log in</a>
                </div>
            </div>
        </div>

        {% include "partials/vertical-spacer.html" with space="9" %}

        <div class="max-w-screen-desktop mx-auto">
            <h2 class="section-title">What Shared Futures Offers</h2>
            {% include "partials/vertical-spacer.html" with space="6" %}
            {% include "landing/tabbed-resources/index.html" %}

            {% include "partials/vertical-spacer.html" with space="9" %}

            <h2 class="section-title">Where We Currently Operate</h2>
            <div class="grid-container">
                {% for key, area in areas_dict.items %}
                    {% include "landing/rounded-image.html" with image=area.image slug=key title=area.name %}
                {% endfor %}
            </div>
        </div>

        {% include "partials/vertical-spacer.html" with space="9" %}
        <h2 class="section-title">Explore What We've Been Doing</h2>

        <div class="mt-6 h-[420px] lg:h-[600px]">
        {% include "map/partials/map.html" with filter_control=True  %}
        </div>

        {% url 'resources' as resources_url %}
        <div class="flex flex-col lg:flex-row justify-between mt-12 gap-6">
            {% include "partials/call-to-action.html" with main="Would you like to find out what services and resources are available in your area?" button="See resources" url=resources_url bg="bg-sky" %}
            {% include "partials/call-to-action.html" with main="Do you have a project in mind you would like to find like-minded people to deliver?" button="Sign up" url=signup_url bg="bg-yellow" %}
        </div>

        {% include "partials/vertical-spacer.html" with space="9" %}
        <h2 class="section-title">Case Studies</h2>
        {% include "partials/vertical-spacer.html" with space="6" %}
        {% include "landing/carousel.html" %}

        <div class="form-container mt-12">
            <h2 class="section-title">Get in Touch ðŸ“§</h2>
            <form hx-post="/dashboard/contact/" hx-trigger="submit">
                {% include "dashboard/partials/get_in_touch_form.html" with style="primary" %}
            </form>
        </div>

        <div class="mt-12">
            {% include "partials/footer-text.html" %}
        </div>
    </div>
{% endblock content %}
